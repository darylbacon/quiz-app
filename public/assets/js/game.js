function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}var selectors={progressBar:'[el="progress-bar-full"]',loader:'[el="loader"]',game:'[el="game"]',questionCounter:'[el="question-counter"]',scoreCounter:'[el="score-counter"]',question:'[el="question"]',choices:'[el="choice"]',choiceText:'[el="choice-text"]'},loader=document.querySelector(selectors.loader),game=document.querySelector(selectors.game),question=document.querySelector(selectors.question),choices=_toConsumableArray(document.querySelectorAll(selectors.choices)),progressBar=document.querySelector(selectors.progressBar),questionCounterText=document.querySelector(selectors.questionCounter),scoreCounterText=document.querySelector(selectors.scoreCounter),currentQuestion={},acceptingAnswers=!1,score=0,questionCounter=0,availableQuestions=[],questions=[],correctBonus=10,maxQuestions=10,init=function(){getQuestions()};choices.forEach((function(e){e.addEventListener("click",(function(t){if(acceptingAnswers){acceptingAnswers=!1;var r=e.dataset.number,o="incorrect";r==currentQuestion.answer&&(o="correct",incrementScore(correctBonus)),e.classList.add(o),setTimeout((function(){e.classList.remove(o),getNewQuestion()}),1e3)}}))}));var getQuestions=function(){fetch("https://opentdb.com/api.php?amount=".concat(maxQuestions,"&category=9&difficulty=easy&type=multiple")).then((function(e){return e.json()})).then((function(e){questions=e.results.map((function(e){var t={question:e.question},r=_toConsumableArray(e.incorrect_answers);return t.answer=Math.floor(3*Math.random())+1,r.splice(t.answer-1,0,e.correct_answer),r.forEach((function(e,r){t["choice".concat(r+1)]=e})),t})),startGame()})).catch((function(e){console.error(e)}))},startGame=function(){questionCounter=0,score=0,availableQuestions=_toConsumableArray(questions),getNewQuestion(),loader.classList.add("hidden"),game.classList.remove("hidden")},getNewQuestion=function(){if(0===availableQuestions.length||questionCounter>=maxQuestions)return localStorage.setItem("mostRecentScore",score),window.location.assign("/end.html");questionCounter++,questionCounterText.innerText="".concat(questionCounter,"/").concat(maxQuestions),progressBar.style.width="".concat(questionCounter/maxQuestions*100,"%");var e=Math.floor(Math.random()*availableQuestions.length);currentQuestion=availableQuestions[e],question.innerText=decodeEntities(currentQuestion.question),choices.forEach((function(e){var t=e.dataset.number;e.querySelector(selectors.choiceText).innerText=decodeEntities(currentQuestion["choice".concat(t)])})),availableQuestions.splice(e,1),acceptingAnswers=!0},incrementScore=function(e){score+=e,scoreCounterText.innerText=score},decodeEntities=function(){var e=document.createElement("div");return function(t){return t&&"string"==typeof t&&(t=(t=t.replace(/<script[^>]*>([\S\s]*?)<\/script>/gim,"")).replace(/<\/?\w(?:[^"'>]|"[^"]*"|'[^']*')*>/gim,""),e.innerHTML=t,t=e.textContent,e.textContent=""),t}}();window.addEventListener("DOMContentLoaded",(function(){init()}));